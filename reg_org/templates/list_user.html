{% extends 'base.html'%}

{% block body%}

<div class="container" style="margin-top: 2%;">
    {% if user.is_authenticated %}
    <h2> Welcome {{user.get_username}} </h2>
    
    
    

    
    
    <h3>Total number of Employees: {{num_of_users}}</h3>
    <h1>List of all Employees </h1>

    <table class="table">
        <thead class="thead-dark">
          <tr>
            <th>#</th>
            <th>username</th>
            <th>email</th>
          </tr>
        </thead>
        <tbody>
            {% for emp in emps%}

            <tr>
           
            <th scope="row">{{ forloop.counter }}</th>
                <td><a href="{% url 'detail' emp.emp.id%}">
                    <p>{{emp.emp.username}} </p>
                </a></td>
                <td>{{emp.emp.email}}</td>
                
              </tr>  
              {%endfor%}

            </tbody>
    </table>
    
    
    
    <h4>List of all the Permissions</h4>

    <ul class="list-group">
        {% for p in permissions%}
            <li class="list-group-item list-group-item-action d-flex gap-3 py-3">
                {{p.permission_name}}
            </li>
        {% endfor %}
    </ul>

    <p>
        Use this Client ID: <strong>{{client_secret}}</strong> for further use 
    </p>
    
    
{% else %}
    <p>You are logged out</p>
    <p>
        <a href="/root/login">Login</a>
    </p>

{% endif %}

</div>

{% endblock %}


